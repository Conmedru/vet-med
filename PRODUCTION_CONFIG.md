# üöÄ Production Configuration for Timeweb Cloud

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ä–∞–∑–¥–µ–ª **"–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ"** (Environment Variables) –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Vet Umbriel.

## 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Managed PostgreSQL)
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—à—É –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –Ø —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –ø–∞—Ä–æ–ª–µ–º.
*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: —è –∏–∑–º–µ–Ω–∏–ª `sslmode=verify-full` –Ω–∞ `sslmode=require`, —á—Ç–æ–±—ã –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–æ –≤–Ω—É—Ç—Ä–∏ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.*

| –ö–ª—é—á | –ó–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| `DATABASE_URL` | `postgresql://gen_user:v*e)1.kVIoz9np@02adb95ad871d548d0d754d4.twc1.net:5432/default_db?sslmode=require` |
| `DIRECT_URL` | `postgresql://gen_user:v*e)1.kVIoz9np@02adb95ad871d548d0d754d4.twc1.net:5432/default_db?sslmode=require` |

## 2. S3 –•—Ä–∞–Ω–∏–ª–∏—â–µ (–û–±–ª–æ–∂–∫–∏)
–ò—Å–ø–æ–ª—å–∑—É–µ–º —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤–∞–º–∏ –±–∞–∫–µ—Ç.
*–í–Ω–∏–º–∞–Ω–∏–µ: –í–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ `Access Key` –∏ `Secret Key` –≤ –ø–∞–Ω–µ–ª–∏ Timeweb -> –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ -> –î–æ—Å—Ç—É–ø—ã.*

| –ö–ª—é—á | –ó–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| `S3_ENDPOINT` | `https://s3.twcstorage.ru` |
| `S3_BUCKET` | `1873f82d-617b-4505-a1ec-3fe47ebe0e64` |
| `S3_REGION` | `ru-1` |
| `S3_ACCESS_KEY` | *(–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à Access Key)* |
| `S3_SECRET_KEY` | *(–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à Secret Key)* |

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

| –ö–ª—é—á | –ó–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| `NEXT_PUBLIC_SITE_URL` | `https://vet-umbriel.tw1.ru` (–∏–ª–∏ –≤–∞—à –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω) |
| `NODE_ENV` | `production` |
| `REPLICATE_API_TOKEN` | `r8_****************************************` (See your local .env or Replicate dashboard) |
| `AI_MODEL` | `gpt-4o-mini` |
| `ADMIN_PASSWORD` | *(–ü—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É)* |
| `ADMIN_API_KEY` | *(–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∫–ª—é—á, –Ω–∞–ø—Ä–∏–º–µ—Ä `my-secret-admin-key-2024`)* |

---

## üõ° –ö–∞–∫ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ (–í–∞–∂–Ω–æ!)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è (—Å—Ç–∞—Ç—É—Å —Å—Ç–∞–Ω–µ—Ç "Running"), –≤–∞–º –Ω—É–∂–Ω–æ **–æ–¥–∏–Ω —Ä–∞–∑** –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ö–æ–Ω—Å–æ–ª—å"** (Console) –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Timeweb.
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   npx prisma migrate deploy
   ```

**–ü–æ—á–µ–º—É —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ:**
*   –ö–æ–º–∞–Ω–¥–∞ `migrate deploy` **—Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç** –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –∫–æ–ª–æ–Ω–∫–∏.
*   –û–Ω–∞ **–ù–ò–ö–û–ì–î–ê** –Ω–µ —É–¥–∞–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `db push` –∏–ª–∏ `migrate reset`).
*   –ï—Å–ª–∏ –±–∞–∑–∞ –ø—É—Å—Ç–∞—è (–∫–∞–∫ —Å–µ–π—á–∞—Å), –æ–Ω–∞ —Å–æ–∑–¥–∞—Å—Ç –≤—Å—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –Ω—É–ª—è.
