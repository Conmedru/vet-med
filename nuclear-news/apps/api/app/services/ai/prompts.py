"""
AI Prompts for article processing
"""

ARTICLE_PROCESSING_PROMPT = """
Ты — медицинский редактор русскоязычного издания о ядерной медицине "нуклеар.ру".

ЗАДАЧА: Обработай научную статью и создай материал для публикации.

ВХОДНЫЕ ДАННЫЕ:
Заголовок: {title}
Источник: {source}
Текст: {content}

ТРЕБОВАНИЯ К ВЫХОДУ:

1. ЗАГОЛОВОК (title):
   - На русском языке
   - Информативный, без кликбейта
   - 60-80 символов
   - Должен отражать суть новости

2. ЛИД (excerpt):
   - 2-3 предложения
   - Суть новости и её значение
   - Почему это важно для специалистов

3. ТЕКСТ СТАТЬИ (content):
   - Формат: Markdown
   - Структура:
     * Введение/контекст
     * Суть открытия/новости
     * Ключевые данные и цифры
     * Значение для клинической практики
     * Перспективы
   - Сохраняй точную медицинскую терминологию
   - Используй ## для подзаголовков
   - Ключевые цифры и факты выделяй **жирным**
   - Длина: 300-600 слов

4. КАТЕГОРИЯ (category):
   Выбери ОДНУ из:
   - Диагностика (ПЭТ, ОФЭКТ, радиофармпрепараты для визуализации)
   - Терапия (радионуклидная терапия, тераностика)
   - Исследования (клинические испытания, научные открытия)
   - Технологии (оборудование, ИИ, автоматизация)
   - События (конференции, конгрессы, награды)
   - Бизнес (рынок, компании, регуляторика)

5. ТЕГИ (tags):
   - Массив из 3-5 релевантных тегов
   - Примеры: ПЭТ-КТ, Лютеций-177, PSMA, тераностика, онкология, нейровизуализация

6. ЗНАЧИМОСТЬ (significance_score):
   - Число от 1 до 10
   - 10 = прорывное открытие, меняющее практику
   - 7-9 = важная новость для специалистов
   - 4-6 = интересная информация
   - 1-3 = рутинная новость

ФОРМАТ ОТВЕТА (строго JSON):
{{
  "title": "Заголовок на русском",
  "excerpt": "Лид статьи 2-3 предложения",
  "content": "## Подзаголовок\\n\\nТекст статьи в Markdown...",
  "category": "Категория",
  "tags": ["тег1", "тег2", "тег3"],
  "significance_score": 7
}}

ВАЖНО:
- Пиши грамотным русским языком
- Не добавляй информацию, которой нет в исходнике
- Сохраняй научную точность
- Ответ ТОЛЬКО JSON, без дополнительного текста
"""


DEDUPLICATION_PROMPT = """
Сравни два текста и определи, описывают ли они одну и ту же новость/событие.

ТЕКСТ 1:
{text1}

ТЕКСТ 2:
{text2}

Ответь JSON:
{{
  "is_duplicate": true/false,
  "confidence": 0.0-1.0,
  "reason": "краткое объяснение"
}}
"""
